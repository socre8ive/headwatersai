(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33256,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(18566);function a({mode:e,onSuccess:a,onModeChange:o}){let l=(0,s.useRouter)(),[n,i]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),[p,b]=(0,t.useState)(null),y=async r=>{if(r.preventDefault(),b(null),"register"===e&&c!==u)return void b("Passwords do not match");if(c.length<8)return void b("Password must be at least 8 characters");f(!0);try{let r="login"===e?{email:n,password:c}:{email:n,password:c,fullName:g||void 0},t=await fetch("login"===e?"/api/auth/login":"/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),s=await t.json();if(!t.ok)throw Error(s.error||"Authentication failed");a?a():(l.push("/dashboard"),l.refresh())}catch(e){b(e instanceof Error?e.message:"An error occurred")}finally{f(!1)}};return(0,r.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-8 py-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:"login"===e?"Welcome Back":"Create Account"}),(0,r.jsx)("p",{className:"text-blue-100 mt-1",children:"login"===e?"Sign in to access your watersheds":"Start exploring watersheds today"})]}),(0,r.jsxs)("form",{onSubmit:y,className:"p-8 space-y-6",children:[p&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-sm text-red-600",children:p})}),"register"===e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,r.jsx)("input",{id:"fullName",type:"text",value:g,onChange:e=>x(e.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,r.jsx)("input",{id:"email",type:"email",value:n,onChange:e=>i(e.target.value),placeholder:"you@example.com",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",value:c,onChange:e=>d(e.target.value),placeholder:"••••••••",required:!0,minLength:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),"register"===e&&(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters"})]}),"register"===e&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,r.jsx)("input",{id:"confirmPassword",type:"password",value:u,onChange:e=>m(e.target.value),placeholder:"••••••••",required:!0,minLength:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),(0,r.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?(0,r.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"login"===e?"Signing in...":"Creating account..."]}):"login"===e?"Sign In":"Create Account"}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["login"===e?"Don't have an account?":"Already have an account?"," ",(0,r.jsx)("button",{type:"button",onClick:()=>o&&o("login"===e?"register":"login"),className:"text-blue-600 font-semibold hover:text-blue-700",children:"login"===e?"Sign up":"Sign in"})]})})]})]}),"register"===e&&(0,r.jsx)("p",{className:"text-center text-xs text-gray-500 mt-6 px-4",children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})]})}e.s(["default",()=>a])},86906,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(33256);function a(){let[e,a]=(0,t.useState)("register");return(0,r.jsx)("div",{className:"min-h-[calc(100vh-4rem)] bg-gradient-to-br from-gray-50 to-blue-50 flex items-center justify-center py-12 px-4",children:(0,r.jsx)(s.default,{mode:e,onModeChange:a})})}e.s(["default",()=>a])}]);